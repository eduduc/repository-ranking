spring:
  application:
    name: repository-ranking
  mvc:
    problemdetails:
      enabled: true
  cloud:
    openfeign:
      client:
        config:
          github-search-api:
            url: http://localhost:${wiremock.server.port}
            connect-timeout: 2000
            read-timeout: 2000
            logger-level: FULL
            default-request-headers:
              Accept: application/vnd.github+json
              X-GitHub-Api-Version: 2022-11-28
              User-Agent: ${spring.application.name}
              Authorization: Bearer sample-token # Could configure Spring Security to get an application-token

springdoc:
  show-actuator: true
  cache:
    disabled: true
  swagger-ui:
    display-request-duration: true
    default-models-expand-depth: -1
    operationsSorter: alpha
  writer-with-default-pretty-printer: true
  writer-with-order-by-keys: true

logging:
  exception-conversion-word: "%wEx"
  level:
    com.eduducer.repositoryranking.adapter.outbound.github: DEBUG
    org.springframework.web: INFO
    org.springframework.cloud.openfeign: DEBUG
  pattern:
    console: "%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m %clr(%marker){blue}%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] %-40.40logger{39} : %m %marker%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}"
